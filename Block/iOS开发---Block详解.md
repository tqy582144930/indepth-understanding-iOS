[TOC]

### iOS开发---Block详解

## Block的基础

### 什么是Blocks？

- 用一句话来描述：**带有自动变量的匿名函数**（是不是一脸懵逼，不要担心，整篇博客都会围绕这句话展开）顾名思义：`Block`没有函数名，另外`Block`带有"`^`"标记,插入记号便于查找到`Block`
- `Blocks` 也被称作**闭包**、**代码块**。展开来讲，`Blocks`就是一个代码块，把你想要执行的代码封装在这个代码块里，等到需要的时候再去调用。
- `Block` 共享局部作用域的数据。`Block` 的这项特征非常有用，因为如果您实现一个方法，并且该方法定义一个块，则该块可以访问该方法的局部变量和参数（包括堆栈变量），以及函数和全局变量（包括实例变量）。这种访问是只读的，但如果使用 `__block` 修饰符声明变量，则可在 `Block` 内更改其值。即使包含有块的方法或函数已返回，并且其局部作用范围已销毁，但是只要存在对该块的引用，局部变量仍作为块对象的一部分继续存在。

### Blocks的语法

- `Block`的完整语法格式如下：

```objective-c
^ returnType (argument list) {
  expressions
}
```

用一张图来表示

![Block语法](https://tva1.sinaimg.cn/large/006y8mN6ly1g756lmtruej30vo0braau.jpg)

- 与c语言的区别

### Block截取变量

## Block的实现